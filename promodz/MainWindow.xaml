<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:promodz"
        xmlns:Widgets="clr-namespace:promodz.Widgets" xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero" x:Class="promodz.MainWindow"
        mc:Ignorable="d"
        Title="ProModz" Height="713" Width="1072" Closed="Window_Closed"  WindowStyle="None"
        AllowsTransparency="True" Loaded="Window_Loaded"
        Foreground="Black" ResizeMode = "CanResizeWithGrip"
    >
    <Window.Resources>
        <Style x:Key="ButtonFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle StrokeDashArray="1 2" StrokeThickness="1" Stroke="Black" SnapsToDevicePixels="true" Margin="2"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <LinearGradientBrush x:Key="ButtonNormalBackground" EndPoint="0,1" StartPoint="0,0">
            <GradientStop Color="#F3F3F3" Offset="0"/>
            <GradientStop Color="#EBEBEB" Offset="0.5"/>
            <GradientStop Color="#DDDDDD" Offset="0.5"/>
            <GradientStop Color="#CDCDCD" Offset="1"/>
        </LinearGradientBrush>
        <SolidColorBrush x:Key="ButtonNormalBorder" Color="#FF707070"/>
        <SolidColorBrush x:Key="TitleBarBackground" Color="#002942" />
        <SolidColorBrush x:Key="AddTileMenuBackground" Color="Black" />
        <SolidColorBrush x:Key="AddTileMenuColor1" Color="#FCB912" />
        <SolidColorBrush x:Key="AddTileMenuColor2" Color="#8CBBFF" />
        <SolidColorBrush x:Key="AddTileMenuColor3" Color="White" />
        <SolidColorBrush x:Key="TileBorderColor" Color="#2C394F" />
        <SolidColorBrush x:Key="MainMenuColor1" Color="#81A6D4" />
        <SolidColorBrush x:Key="MainMenuColor2" Color="#01243A" />
        <SolidColorBrush x:Key="MainMenuColor3" Color="#FCB912" />
        <SolidColorBrush x:Key="MainMenuForeground1" Color="#BFD8F0" />
        <VisualBrush x:Key="LedControlBrush">
            <VisualBrush.Visual>
                <Widgets:LedRegulatorHorizontale/>
            </VisualBrush.Visual>
        </VisualBrush>
        <Style x:Key="CloseWndButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource ButtonFocusVisual}"/>
            <Setter Property="Background" Value="{StaticResource  TitleBarBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">

                        <Grid>
                            <Rectangle VerticalAlignment="Stretch" Fill="{TemplateBinding Background}" HorizontalAlignment="Stretch" />
                            <Rectangle Width="18" Height="4.5" Fill="White" VerticalAlignment="Center" HorizontalAlignment="Center" RenderTransformOrigin="0.5,0.5" >
                                <Rectangle.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="45"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Rectangle Width="18" Height="4.5" Fill="White" VerticalAlignment="Center" HorizontalAlignment="Center" RenderTransformOrigin="0.5,0.5" >
                                <Rectangle.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="-45"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                        </Grid>

                        <!--
                        <Themes:ButtonChrome x:Name="Chrome" BorderBrush="{TemplateBinding BorderBrush}" Background="{TemplateBinding Background}" RenderMouseOver="{TemplateBinding IsMouseOver}" RenderPressed="{TemplateBinding IsPressed}" RenderDefaulted="{TemplateBinding IsDefaulted}" SnapsToDevicePixels="true">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Themes:ButtonChrome>
                        -->
                        <ControlTemplate.Triggers>
                            <!--
                            <Trigger Property="IsKeyboardFocused" Value="true">
                                <Setter Property="RenderDefaulted" TargetName="Chrome" Value="true"/>
                            </Trigger>
                            <Trigger Property="ToggleButton.IsChecked" Value="true">
                                <Setter Property="RenderPressed" TargetName="Chrome" Value="true"/>
                            </Trigger>
                            -->
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="AddTileMenuItemStyle" TargetType="{x:Type MenuItem}">
            <Setter Property="FontFamily" Value="Myriad Pro"  />
            <Setter Property="FontSize" Value="25" />
            <Setter Property="Foreground" Value="{StaticResource AddTileMenuColor2}" />
            <Setter Property="Background" Value="{StaticResource AddTileMenuBackground}" />
            <Style.Triggers>
                <Trigger Property="MenuItem.IsMouseOver" Value="true">
                    <Setter Property = "Foreground" Value="{StaticResource AddTileMenuColor3}"/>
                    <Setter Property = "Background" Value="{StaticResource TitleBarBackground}"/>
                    <Setter Property = "IsSubmenuOpen" Value="True"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="MainMenuItemStyle" TargetType="{x:Type MenuItem}">
            <Setter Property="Foreground" Value="{StaticResource MainMenuColor2}" />
            <Setter Property="Background" Value="{StaticResource MainMenuColor1}" />
            <Setter Property = "Width" Value="31"/>
            <Setter Property = "Height" Value="27"/>
            <Setter Property="Margin" Value="0" />
            <Style.Triggers>
                <Trigger Property="IsHighlighted" Value="true">
                    <Setter Property = "Foreground" Value="{StaticResource MainMenuColor3}"/>
                    <Setter Property = "Background" Value="{StaticResource MainMenuColor2}"/>
                    <Setter Property = "IsSubmenuOpen" Value="True"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="CheckBoxFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Border>
                            <Rectangle 
            Margin="15,0,0,0"
            StrokeThickness="1"
            Stroke="#60000000"
            StrokeDashArray="1 2"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="CheckBoxScreenLockStyle" TargetType="{x:Type CheckBox}" >
            <Setter Property="SnapsToDevicePixels" Value="true"/>
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="FocusVisualStyle"	Value="{StaticResource CheckBoxFocusVisual}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <BulletDecorator Background="Transparent">
                            <BulletDecorator.Bullet>
                                <Border x:Name="Border"  Width="43" Height="43" BorderThickness="0" BorderBrush="Transparent">
                                    <Grid  Height="27" Width="23" >
                                        <Path  x:Name="CheckMark" SnapsToDevicePixels="True" Fill="White"   Data="M23,16.78C23,13.63,20.44,11,17.94,11H4.81C2.3,11,0,13.63,0,16.78V20.6C0,23.75,2.3,27,4.81,27H17.94c2.5,0,5.06-3.25,5.06-6.4ZM9.05,23l1.47-4.39a2.37,2.37,0,0,1-1-2,2.18,2.18,0,0,1,2.18-2.18,2.2,2.2,0,0,1,2.18,2.21,2.31,2.31,0,0,1-1,1.92L14.29,23Z" />
                                        <Path  x:Name="CheckMark2" SnapsToDevicePixels="True" Fill="White"  Data="M3,4.85 C3,3.8 4.7,3 5.75,3 L11.875,3 A2.19,2.19,0,0,1,14,5.0416667 L14,8 17,8 17.042507,4.9372071 C17.042507,1.7872071 14.483333,0 11.333333,0 L5.75,6.9388939E-18 C2.6,6.9388939E-18 0,1.7 0,4.85 L0,13 3,13 z" Height="13" Margin="3,0,3,0" VerticalAlignment="Top" />
                                    </Grid>
                                </Border>
                            </BulletDecorator.Bullet>
                            <!--
                            <ContentPresenter Margin="4,0,0,0" VerticalAlignment="Center" HorizontalAlignment="Left" RecognizesAccessKey="True"/>
                            -->
                        </BulletDecorator>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="true">

                                <Setter TargetName="CheckMark" Property="Fill" Value="#FCB912" />
                                <Setter TargetName="CheckMark2" Property="Fill" Value="#FCB912" />
                                <Setter TargetName="CheckMark2" Property="Data" Value="M3,4.85 C3,3.8 4.7,3 5.75,3 L11.875,3 A2.19,2.19,0,0,1,14,5.0416667 L14,12.979167 17,12.979167 17.042507,4.9372071 C17.042507,1.7872071 14.483333,0 11.333333,0 L5.75,6.9388939E-18 C2.6,6.9388939E-18 0,1.7 0,4.85 L0,13 3,13 z" />
                                <!--
                                <Setter TargetName="CheckMark" Property="Visibility" Value="Collapsed"/>
                                -->
                            </Trigger>
                            <Trigger Property="IsChecked" Value="{x:Null}">
                                <!--
                                <Setter TargetName="CheckMark" Property="Data" Value="M 0 7 L 7 0" />
                                -->
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <!--
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource DarkBrush}" />
                                -->
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <!--
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource PressedBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource PressedBorderBrush}" />
                                -->
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <!--
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource DisabledBackgroundBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource DisabledBorderBrush}" />
                                <Setter Property="Foreground" Value="{StaticResource DisabledForegroundBrush}"/>
                                -->
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ControlTemplate x:Key="AddTileMenuMainItemTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid x:Name="Grid" Background="{StaticResource AddTileMenuBackground}">
                    <Rectangle x:Name="rect1" Width="5.5" Height="24.5" Fill="{StaticResource AddTileMenuColor1}" />
                    <Rectangle x:Name="rect2" Width="24.5" Height="5.5" Fill="{StaticResource AddTileMenuColor1}" />
                    <!--
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <ContentPresenter x:Name="Icon" Content="{TemplateBinding Icon}" ContentSource="Icon" HorizontalAlignment="Center" Height="16" Margin="3" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" Width="16"/>
                    <Path x:Name="GlyphPanel" Data="F1M10,1.2L4.7,9.1 4.5,9.1 0,5.2 1.3,3.5 4.3,6.1 8.3,0 10,1.2z" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Margin="3" Visibility="Collapsed" VerticalAlignment="Center"/>
                    <ContentPresenter x:Name="ContentPresenter" ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}" Grid.Column="1" ContentStringFormat="{TemplateBinding HeaderStringFormat}" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                    -->
                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Bottom">

                        <Border x:Name="SubMenuBorder" BorderBrush="#FF999999" BorderThickness="0" Background="{StaticResource AddTileMenuBackground}" Padding="0" >
                            <!--
                            <ScrollViewer x:Name="SubMenuScrollViewer" Style="{DynamicResource AddTileMenuScrollViewerStyle}">
                            -->
                            <Grid x:Name="Grid1" Background="{TemplateBinding Background}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="47"/>
                                    <RowDefinition Height="32"/>
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" Margin="20,0,20,0"  VerticalAlignment="Bottom" Text="Adding a tile" FontFamily="Myriad Pro"  Foreground="{StaticResource AddTileMenuColor1}" FontWeight="Bold" FontSize="30" />
                                <TextBlock Grid.Row="1" Margin="20,0,20,0" VerticalAlignment="Bottom" Text="Choose type:" FontFamily="Myriad Pro" FontWeight="Bold" FontSize="25" Foreground="{StaticResource AddTileMenuColor2}"/>
                                <Canvas x:Name="Canvas" Grid.Row="2"  HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                    <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=ItemsPresenter}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                </Canvas>
                                <!--
                                    <Rectangle x:Name="Rectangle" Fill="#FFD7D7D7" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                                    -->
                                <ItemsPresenter Margin="0,7,0,0" x:Name="ItemsPresenter" Grid.Row="2" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle" />
                            </Grid>
                            <!--
                            </ScrollViewer>
                            -->
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>
                <Trigger Property="Icon" Value="{x:Null}">
                    <!--
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsChecked" Value="True">
                    <!--
                    <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter Property="Fill" TargetName="rect1" Value="#F9DE15"/>
                    <Setter Property="Fill" TargetName="rect2" Value="#F9DE15"/>
                    <!--
                    <Setter Property="Background" TargetName="templateRoot" Value="#3D26A0DA"/>
                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="#FF26A0DA"/>
                    -->
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="TextElement.Foreground" TargetName="templateRoot" Value="#FF707070"/>
                    <!--
                    <Setter Property="Fill" TargetName="GlyphPanel" Value="#FF707070"/>
                    -->
                </Trigger>
                <!--
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
                -->
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="AddTileMenuItemTemplate" TargetType="{x:Type MenuItem}">
            <!--
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                -->
            <Grid x:Name="Grid" Margin="0" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="20"/>


                    <ColumnDefinition Width="30*"/>

                    <ColumnDefinition Width="20"/>
                </Grid.ColumnDefinitions>
                <!--
                <ContentPresenter x:Name="Icon" Content="{TemplateBinding Icon}" ContentSource="Icon" HorizontalAlignment="Center" Height="16" Margin="3" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" Width="16"/>
                <Border x:Name="GlyphPanel" BorderBrush="#FF26A0DA" BorderThickness="1" Background="#3D26A0DA" Height="22" Margin="-1,0,0,0" Visibility="Hidden" VerticalAlignment="Center" Width="22">
                    <Path x:Name="Glyph" Data="{DynamicResource ŧ}" Fill="#FF212121" FlowDirection="LeftToRight" Height="11" Width="9"/>
                </Border>
                -->

                <Rectangle Grid.ColumnSpan="3" Fill="{TemplateBinding Background}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />

                <ContentPresenter x:Name="ContentPresenter"  ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}" Grid.Column="1" ContentStringFormat="{TemplateBinding HeaderStringFormat}" ContentSource="Header" HorizontalAlignment="Left" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />

                <!--
                <TextBlock x:Name="TextBlock" Grid.Column="4" Margin="{TemplateBinding Padding}" Opacity="0.7" Text="" VerticalAlignment="Center"/>
                -->
                <Path x:Name="RightArrow" Grid.Column="2" Data="M0,0L4,3.5 0,7z" Fill="{TemplateBinding Background}" HorizontalAlignment="Left" Margin="10,0,0,0" VerticalAlignment="Center"/>
                <!--
                <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="-1" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Right" VerticalOffset="0">
                -->
                <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="-1" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="None" Placement="Right" VerticalOffset="0">
                    <Border x:Name="SubMenuBorder" BorderBrush="#FF999999" BorderThickness="0" Background="{TemplateBinding Background}" Padding="2">
                        <!--
                        <ScrollViewer x:Name="SubMenuScrollViewer" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                        -->
                        <Grid x:Name="Grid1" Background="{TemplateBinding Background}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <TextBlock x:Name="presets" Foreground="{StaticResource AddTileMenuColor2}" Grid.Row="0" Margin="18,2,0,0" Text="Presets:" FontSize="25" />
                            <Canvas x:Name="Canvas" Grid.Row="1" HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                <Rectangle x:Name="OpaqueRect" Margin="-2,0,0,0" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=ItemsPresenter}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                            </Canvas>
                            <!--
                                <Rectangle x:Name="Rectangle" Fill="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                            -->
                            <ItemsPresenter x:Name="ItemsPresenter" Grid.Row="1"  KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle" Grid.RowSpan="2"/>
                        </Grid>
                        <!--
                        </ScrollViewer>
                        -->
                    </Border>
                </Popup>
            </Grid>
            <!--
            </Border>
            -->
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>
                <Trigger Property="Icon" Value="{x:Null}">
                    <!--
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsChecked" Value="True">
                    <!--
                    <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">



                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <!--
                    <Setter Property="TextElement.Foreground" TargetName="templateRoot" Value="#FF707070"/>
                    
                    <Setter Property="Fill" TargetName="Glyph" Value="#FF707070"/>
                    -->
                    <Setter Property="Fill" TargetName="RightArrow" Value="#FF707070"/>
                </Trigger>
                <!--
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
                -->
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <LinearGradientBrush x:Key="MenuBackground" EndPoint="0,1" StartPoint="0,0">
            <GradientStop Color="#F6F6F6" Offset="0.25"/>
            <GradientStop Color="#EAE8E8" Offset="0.25"/>
            <GradientStop Color="#DCD9D9" Offset="0.8"/>
            <GradientStop Color="White" Offset="1"/>
        </LinearGradientBrush>
        <ControlTemplate x:Key="MainMenuMainItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid x:Name="Grid" Width="43" Height="43" VerticalAlignment="Center" HorizontalAlignment="Center" Background="{StaticResource TileBorderColor}">
                    <Path x:Name="gearPath" Fill="#fcb912" HorizontalAlignment="Center" VerticalAlignment="Center"  Data="M29,12.93a1,1,0,0,0-.93-.72,3.21,3.21,0,0,1-2.2-5.59A.81.81,0,0,0,26,5.53a14.39,14.39,0,0,0-2.3-2.33.81.81,0,0,0-1.11.09,3.35,3.35,0,0,1-3.63.81A3.23,3.23,0,0,1,17,.95.81.81,0,0,0,16.24.1,14.52,14.52,0,0,0,13,.09a.81.81,0,0,0-.72.83,3.24,3.24,0,0,1-2,3.1,3.36,3.36,0,0,1-3.6-.82.81.81,0,0,0-1.1-.09A14.45,14.45,0,0,0,3.2,5.44a.81.81,0,0,0,.09,1.11,3.22,3.22,0,0,1,.81,3.63,3.36,3.36,0,0,1-3.16,2,.79.79,0,0,0-.84.71,14.57,14.57,0,0,0,0,3.31,1,1,0,0,0,1,.72,3.19,3.19,0,0,1,3,2,3.23,3.23,0,0,1-.81,3.6.81.81,0,0,0-.09,1.1,14.44,14.44,0,0,0,2.3,2.33.81.81,0,0,0,1.11-.09A3.35,3.35,0,0,1,10.17,25a3.23,3.23,0,0,1,2,3.16.81.81,0,0,0,.71.85,14.48,14.48,0,0,0,3.27,0,.81.81,0,0,0,.72-.83,3.23,3.23,0,0,1,2-3.1,3.36,3.36,0,0,1,3.6.82.81.81,0,0,0,1.1.09,14.48,14.48,0,0,0,2.35-2.33.81.81,0,0,0-.09-1.11A3.22,3.22,0,0,1,25,18.92a3.26,3.26,0,0,1,3-2h.18a.81.81,0,0,0,.85-.71A14.56,14.56,0,0,0,29,12.93Zm-14.43,6.5a4.85,4.85,0,1,1,4.85-4.85A4.86,4.86,0,0,1,14.57,19.43Z"/>
                    <!--
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <ContentPresenter x:Name="Icon" Content="{TemplateBinding Icon}" ContentSource="Icon" HorizontalAlignment="Center" Height="16" Margin="3" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" Width="16"/>
                    <Path x:Name="GlyphPanel" Data="F1M10,1.2L4.7,9.1 4.5,9.1 0,5.2 1.3,3.5 4.3,6.1 8.3,0 10,1.2z" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Margin="3" Visibility="Collapsed" VerticalAlignment="Center"/>
                    <ContentPresenter ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}" Grid.Column="1" ContentStringFormat="{TemplateBinding HeaderStringFormat}" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                    -->
                    <Popup x:Name="PART_Popup" PlacementTarget="{Binding ElementName=templateRoot}" HorizontalOffset="0" VerticalOffset="6"   AllowsTransparency="True" Focusable="False" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="None" Placement="Bottom">
                        <Border x:Name="SubMenuBorder"  BorderBrush="#FF999999" BorderThickness="0" Background="#FFF0F0F0" Padding="0">
                            <ScrollViewer  x:Name="SubMenuScrollViewer" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <Grid>
                                    <Canvas HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                        <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=SubMenuBorder}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                    </Canvas>
                                    <!--
                                    <Rectangle Fill="#FFD7D7D7" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                                    -->
                                    <ItemsPresenter  x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                </Grid>
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>
                <Trigger Property="Icon" Value="{x:Null}">
                    <!--
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsChecked" Value="True">
                    <!--
                    <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter Property="Fill" TargetName="gearPath" Value="#F9DE15"/>
                    <!--
                    <Setter Property="Background" TargetName="templateRoot" Value="#3D26A0DA"/>
                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="#FF26A0DA"/>
                    -->
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="TextElement.Foreground" TargetName="templateRoot" Value="#FF707070"/>
                    <!--
                    <Setter Property="Fill" TargetName="GlyphPanel" Value="#FF707070"/>
                    -->
                </Trigger>
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="MainMenuDeviceControlMenuItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid Width="31" Height="27">
                    <Grid Width="31" Height="27">
                        <Path Fill="{TemplateBinding Foreground}" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M17.1,15.82,11,9.77l-.18-.15,1.07-1.13.15-.17a4,4,0,0,0,5.39-4.08A.34.34,0,0,0,16.9,4L15,6l-2-.5-.56-2L14.37,1.5a.34.34,0,0,0-.21-.59A4,4,0,0,0,10.08,6.3l-.17.16L8.33,8l-2.9-2.9L5.32,5l.1-.18c.61.12,1.73-1.07,2.68-2L5.33,0c-1.24,1.24-2.14,2.07-2,2.68a2.7,2.7,0,0,0-.71.49l-.39.39a1.65,1.65,0,0,0-.46.9l-.11.14-.15.18,0,0L1.33,5c-.08.11-.15.23-.22.34L1,5.46v0L1,5.59C.88,5.73.81,5.86.75,6V6a4.58,4.58,0,0,0-.2.55l0,.08c0,.07,0,.14-.06.22l-.05.27a3.05,3.05,0,0,0-.07.48v.1a2.37,2.37,0,0,0,0,.42s0,.08,0,.14,0,0,0,.07a1.35,1.35,0,0,0,0,.19l0,.22,0,.12a1.83,1.83,0,0,0,.05.26l.14.49a.33.33,0,0,0,.65,0l.07-.5a1.36,1.36,0,0,1,0-.16l0-.12.05-.19,0-.08,0-.07.05-.12a1.38,1.38,0,0,1,.11-.23L1.7,8a1.7,1.7,0,0,1,.15-.24h0L2,7.61l.08-.09.06-.07a2.46,2.46,0,0,1,.24-.24l0,0L2.62,7l.09-.07.11-.07L3,6.74l.15-.08.15-.07.15-.07.08,0,.07,0,.1,0h0a1.08,1.08,0,0,0,.16.2L6.76,9.48.64,15.36h0A1.81,1.81,0,0,0,.51,18a1.74,1.74,0,0,0,2.57-.19h0l5.4-5.69.1.11,6.05,6.05a1.74,1.74,0,0,0,2.46-2.46Z" />
                    </Grid>
                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="-2" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Right" VerticalOffset="-3">
                        <Border x:Name="SubMenuBorder" BorderBrush="#FF999999" BorderThickness="1" Background="#FFF0F0F0" Padding="2">
                            <ScrollViewer x:Name="SubMenuScrollViewer" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <Grid>
                                    <Canvas HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                        <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=SubMenuBorder}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                    </Canvas>
                                    <Rectangle Fill="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                                    <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                </Grid>
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>
                <!--
                <Trigger Property="Icon" Value="{x:Null}">
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                </Trigger>
                -->
                <Trigger Property="IsChecked" Value="True">
                    <!--
                    <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">
                    <!--
                    <Setter Property="Background" TargetName="templateRoot" Value="Transparent"/>
                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="#FF26A0DA"/>
                    -->
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="TextElement.Foreground" TargetName="templateRoot" Value="#FF707070"/>
                    <!--
                    <Setter Property="Fill" TargetName="Glyph" Value="#FF707070"/>
                    
                    <Setter Property="Fill" TargetName="RightArrow" Value="#FF707070"/>
                    -->
                </Trigger>
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="MainMenuColorPresetsMenuItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid Width="31" Height="27">
                    <Grid Width="31" Height="27">
                        <Path Fill="{TemplateBinding Foreground}" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M15.06,5.87,10,.76,9.26,0,7.53,1.7c-3-.42-5.08.66-5.83,2a3.87,3.87,0,0,0,0,3.45A4.77,4.77,0,0,0,5.09,9.94,4.89,4.89,0,0,0,6,10a8.67,8.67,0,0,0,4.11-1.28,1.88,1.88,0,0,0,1.07.34,1.9,1.9,0,1,0-1.9-1.91,2,2,0,0,0,0,.31,6.16,6.16,0,0,1-4,1,3.34,3.34,0,0,1-2.31-2,2.39,2.39,0,0,1-.07-2C3.42,3.67,4.53,3.18,6.24,3L6,3.26,3.53,5.72l0,.1A4.65,4.65,0,0,0,4.37,7L8.8,2.53a1.11,1.11,0,0,1,1.57,0l5.38,5.39a1.12,1.12,0,0,1,0,1.58l-7,7a1.14,1.14,0,0,1-1.57,0L1.81,11.12a1.12,1.12,0,0,1,0-1.58L2.39,9A5.86,5.86,0,0,1,1.5,7.75l-.74.75a2.61,2.61,0,0,0,0,3.68l5.38,5.39a2.59,2.59,0,0,0,3.67,0l7-7L18.26,9.1l-.41-.41c.77-.42,1.11,3.09,1.11,3.09s1.07,8.38,2,0C21.91,3.76,15.61,5.69,15.06,5.87Z" />
                    </Grid>

                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="-2" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Right" VerticalOffset="-3">
                        <Border x:Name="SubMenuBorder" BorderBrush="#FF999999" BorderThickness="1" Background="#FFF0F0F0" Padding="2">
                            <ScrollViewer x:Name="SubMenuScrollViewer" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <Grid>
                                    <Canvas HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                        <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=SubMenuBorder}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                    </Canvas>
                                    <Rectangle Fill="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                                    <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                </Grid>
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>
                <!--
                <Trigger Property="Icon" Value="{x:Null}">
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                </Trigger>
                -->
                <Trigger Property="IsChecked" Value="True">
                    <!--
                    <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">
                    <!--
                    <Setter Property="Background" TargetName="templateRoot" Value="Transparent"/>
                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="#FF26A0DA"/>
                    -->
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <!--
                    <Setter Property="TextElement.Foreground" TargetName="templateRoot" Value="#FF707070"/>
                    <Setter Property="Fill" TargetName="Glyph" Value="#FF707070"/>
                    <Setter Property="Fill" TargetName="RightArrow" Value="#FF707070"/>
                    -->
                </Trigger>
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style x:Key="MainMenuRadioButtonStyle" TargetType="{x:Type RadioButton}">
            <Setter Property="Margin" Value="0,3.4,0,0" />
            <Setter Property="FontFamily" Value="/promodz;component/Fonts/#Myriad Pro" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource MainMenuForeground1}" />

        </Style>
        <ControlTemplate x:Key="MainMenuRadioButtonControlTemplate" TargetType="{x:Type RadioButton}">
            <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Border x:Name="radioButtonBorder" BorderBrush="{StaticResource ResourceKey=MainMenuForeground1}" BorderThickness="1" Background="{TemplateBinding Background}" CornerRadius="110" HorizontalAlignment="Center"  VerticalAlignment="Center">
                    <Grid x:Name="markGrid" Margin="1">
                        <Ellipse x:Name="optionMark" Fill="{StaticResource ResourceKey=AddTileMenuColor1}" MinWidth="7" MinHeight="7" Opacity="0"/>
                    </Grid>
                </Border>
                <ContentPresenter x:Name="contentPresenter" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Grid.Column="1" ContentStringFormat="{TemplateBinding ContentStringFormat}" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="HasContent" Value="True">
                    <Setter Property="FocusVisualStyle">
                        <Setter.Value>
                            <Style>
                                <Setter Property="Control.Template">
                                    <Setter.Value>
                                        <ControlTemplate>
                                            <Rectangle Margin="14,0,0,0" SnapsToDevicePixels="True" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" StrokeThickness="1" StrokeDashArray="1 2"/>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="Padding" Value="4,-1,0,0"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <!--
                    <Setter Property="Background" TargetName="radioButtonBorder" Value="#FFF3F9FF"/>
                    <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="#FF5593FF"/>
                    <Setter Property="Fill" TargetName="optionMark" Value="#FF212121"/>
                    -->
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" TargetName="radioButtonBorder" Value="#FFE6E6E6"/>
                    <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="#FFBCBCBC"/>
                    <Setter Property="Fill" TargetName="optionMark" Value="#FF707070"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <!--
                    <Setter Property="Background" TargetName="radioButtonBorder" Value="#FFD9ECFF"/>
                    <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="#FF3C77DD"/>
                    <Setter Property="Fill" TargetName="optionMark" Value="#FF212121"/>
                    -->
                </Trigger>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Opacity" TargetName="optionMark" Value="1"/>
                </Trigger>
                <Trigger Property="IsChecked" Value="{x:Null}">
                    <Setter Property="Opacity" TargetName="optionMark" Value="0.56"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="MainMenuUnitsMenuItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid Width="31" Height="27">
                    <Grid Width="31" Height="27">
                        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Path Fill="{TemplateBinding Foreground}"  Data="M0,20H5.57V.07H0Zm.85-1.91H2v-.31H.85V17H2v-.31H.85V16H2v-.31H.85V15H3.3v-.5H.85v-.85H2v-.31H.85v-.78H2v-.31H.85v-.7H2V11.2H.85v-.7H3.3V10H.85V9H2V8.7H.85V7.92H2V7.61H.85v-.7H2V6.6H.85V5.9H3.3V5.4H.85V4.64H2.36V4.33H.85V3.54H2.36V3.23H.85v-.7H2.36V2.22H.85V.92H4.72V19.14H.85Z" />
                            <Path Fill="{TemplateBinding Foreground}"  Data="M7.09,0V20.06H23.76Zm.85,18.69H9.12v-.3H7.94v-.77H9.12v-.3H7.94v-.69H9.12v-.3H7.94v-.68h2.45v-.48H7.94v-.83H9.12V14H7.94v-.77H9.12V13H7.94v-.68H9.12V12H7.94v-.68h2.45v-.48H7.94v-1H9.12v-.3H7.94V8.76H9.12v-.3H7.94V7.77H9.12v-.3H7.94V6.79h2.45V6.3H7.94V5.55H9.45v-.3H7.94V4.48H9.45v-.3H7.94V2.34L22,19.23h-14Z" />
                            <Path Fill="{TemplateBinding Foreground}"  Data="M10.91,9.88v6.89h5.73Zm.85,2.34,3.09,3.71H11.76Z" />
                        </Grid>
                    </Grid>

                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="0" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="None" Placement="Right" VerticalOffset="-54">
                        <Border x:Name="SubMenuBorder" Width="144" Height="114" BorderBrush="#FF999999" BorderThickness="0" Background="{StaticResource MainMenuColor2}" Padding="0">
                            <Canvas>
                                <TextBlock Text="Units:" Canvas.Left="11" Canvas.Top="6" Foreground="{StaticResource MainMenuForeground1}" FontFamily="/promodz;component/Fonts/#Myriad Pro" FontWeight="Bold" FontSize="14">
                                    <TextBlock.RenderTransform>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1" />
                                    </TextBlock.RenderTransform>
                                </TextBlock>
                                <StackPanel Canvas.Top="26" Canvas.Left="11">
                                    <RadioButton Style="{StaticResource MainMenuRadioButtonStyle}" GroupName="temperature_units" Template="{DynamicResource MainMenuRadioButtonControlTemplate}" IsChecked="True">Celsium</RadioButton>
                                    <RadioButton Style="{StaticResource MainMenuRadioButtonStyle}" GroupName="temperature_units" Template="{DynamicResource MainMenuRadioButtonControlTemplate}">Fahrenheit</RadioButton>
                                    <RadioButton Style="{StaticResource MainMenuRadioButtonStyle}" GroupName="scale_units" Template="{DynamicResource MainMenuRadioButtonControlTemplate}" IsChecked="True">Metric</RadioButton>
                                    <RadioButton Style="{StaticResource MainMenuRadioButtonStyle}" GroupName="scale_units" Template="{DynamicResource MainMenuRadioButtonControlTemplate}">Imperial</RadioButton>
                                </StackPanel>


                            </Canvas>
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>

                <Trigger Property="IsChecked" Value="True">

                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">

                </Trigger>
                <Trigger Property="IsEnabled" Value="False">

                </Trigger>

            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="MainMenuConnectivityMenuItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid Width="31" Height="27">
                    <Grid Width="31" Height="27">
                        <Grid VerticalAlignment="Center" HorizontalAlignment="Center">


                            <Path Fill="{TemplateBinding Foreground}"  Data="M5.56,12.11c.05.43.46,1.05.73,1.05l.09,0a3.73,3.73,0,0,0,.74,1h2.1a3.16,3.16,0,0,0,.63-1,.2.2,0,0,0,.12,0c.28,0,.61-.62.61-1.05s0-.81-.33-.81l-.11,0c0-1.28-.36-3-2.32-3s-2.09,1.71-2,3H5.79C5.5,11.3,5.5,11.66,5.56,12.11Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M16.58,10.66l.13-.82a.43.43,0,0,0-.41-.53H10.39a4.83,4.83,0,0,1,.33,1.49.84.84,0,0,1,.28.36h5A.59.59,0,0,0,16.58,10.66Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M15.6,14.14a.52.52,0,0,0,.5-.43l.11-.7a.38.38,0,0,0-.38-.45H11.08a1.57,1.57,0,0,1-.88,1.11l0,.07v.4Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M2.43,13.88l-1-6.47A1.44,1.44,0,0,1,2.9,6H17.62a1.44,1.44,0,0,1,1.44,1.44l-.86,6.39h1.29l.86-6.39a2.73,2.73,0,0,0-2.73-2.73H2.9A2.73,2.73,0,0,0,.17,7.42l1,6.47Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M.92,14.73A.92.92,0,0,0,0,15.78L.76,21H19.82l.75-5.17a.92.92,0,0,0-.91-1.05H.92Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M16.72,3.65l.23-1a.34.34,0,0,0-.34-.42H3.39a.35.35,0,0,0-.34.43l.25,1Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M15.39,1.43l.19-1A.34.34,0,0,0,15.24,0H4.75a.34.34,0,0,0-.34.41l.2,1Z"/>

                        </Grid>
                    </Grid>

                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="0" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Right" VerticalOffset="-81">
                        <Border x:Name="SubMenuBorder" Width="144" Height="108"  BorderBrush="#FF999999" BorderThickness="0" Background="{StaticResource MainMenuColor2}" Padding="0">

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="25"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.Row="0" Margin="-42,4,0,0" Text="Connectivity:" Foreground="{StaticResource MainMenuForeground1}" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="/promodz;component/Fonts/#Myriad Pro" FontWeight="Bold" FontSize="14"/>
                                <Canvas HorizontalAlignment="Left"  Grid.Row="1" Height="0" VerticalAlignment="Top" Width="0">
                                    <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=ItemsPresenter}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                </Canvas>

                                <ItemsPresenter x:Name="ItemsPresenter" Margin="0,1,0,0" Grid.Row="1" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                            </Grid>

                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>

                <Trigger Property="IsChecked" Value="True">

                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">
                    
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">

                </Trigger>
                <!--
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
                -->
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="MainMenuSensorsPanelMenuItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid Width="31" Height="27">
                    <Grid Width="31" Height="27">
                        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Path Fill="{TemplateBinding Foreground}"  Data="M23.93,7.83a.78.78,0,0,0,0-.74,13.56,13.56,0,0,0-23.84,0,.78.78,0,0,0,0,.74,13.56,13.56,0,0,0,23.84,0ZM12,13.19a5.73,5.73,0,1,1,5.73-5.73A5.73,5.73,0,0,1,12,13.19Z"/>
                            <Path Fill="{TemplateBinding Foreground}"  Data="M12,4.55a2.92,2.92,0,0,0-.7.08A1.51,1.51,0,0,1,9.18,6.77,2.92,2.92,0,1,0,12,4.55Z"/>
                        </Grid>
                    </Grid>

                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="-2" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Right" VerticalOffset="-3">
                        <Border x:Name="SubMenuBorder" BorderBrush="#FF999999" BorderThickness="1" Background="#FFF0F0F0" Padding="2">
                            <ScrollViewer x:Name="SubMenuScrollViewer" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <Grid>
                                    <Canvas HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                        <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=SubMenuBorder}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                    </Canvas>
                                    <Rectangle Fill="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                                    <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                </Grid>
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>

                <Trigger Property="IsChecked" Value="True">

                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">

                </Trigger>
                <Trigger Property="IsEnabled" Value="False">

                </Trigger>
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="MainMenuTilingLayoutsMenuItemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid Width="31" Height="27">
                    <Grid Width="31" Height="27">
                        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Path Fill="{TemplateBinding Foreground}" >
                                <Path.Data>
                                    <RectangleGeometry Rect="0,11,19,8" />
                                </Path.Data>
                            </Path>
                            <Path Fill="{TemplateBinding Foreground}" >
                                <Path.Data>
                                    <RectangleGeometry Rect="12.05,4,7,5" />
                                </Path.Data>
                            </Path>
                            <Path Fill="{TemplateBinding Foreground}" >
                                <Path.Data>
                                    <RectangleGeometry Rect="0.05,0,10,9" />
                                </Path.Data>
                            </Path>
                        </Grid>
                    </Grid>

                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Focusable="False" HorizontalOffset="-2" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" Placement="Right" VerticalOffset="-3">
                        <Border x:Name="SubMenuBorder" BorderBrush="#FF999999" BorderThickness="1" Background="#FFF0F0F0" Padding="2">
                            <ScrollViewer x:Name="SubMenuScrollViewer" Style="{DynamicResource {ComponentResourceKey ResourceId=MenuScrollViewer, TypeInTargetAssembly={x:Type FrameworkElement}}}">
                                <Grid>
                                    <Canvas HorizontalAlignment="Left" Height="0" VerticalAlignment="Top" Width="0">
                                        <Rectangle x:Name="OpaqueRect" Fill="{Binding Background, ElementName=SubMenuBorder}" Height="{Binding ActualHeight, ElementName=SubMenuBorder}" Width="{Binding ActualWidth, ElementName=SubMenuBorder}"/>
                                    </Canvas>
                                    <Rectangle Fill="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" HorizontalAlignment="Left" Margin="29,2,0,2" Width="1"/>
                                    <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Grid.IsSharedSizeScope="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" KeyboardNavigation.TabNavigation="Cycle"/>
                                </Grid>
                            </ScrollViewer>
                        </Border>
                    </Popup>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsSuspendingPopupAnimation" Value="True">
                    <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None"/>
                </Trigger>

                <Trigger Property="IsChecked" Value="True">

                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">

                </Trigger>
                <Trigger Property="IsEnabled" Value="False">

                </Trigger>
                <Trigger Property="CanContentScroll" SourceName="SubMenuScrollViewer" Value="False">
                    <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding VerticalOffset, ElementName=SubMenuScrollViewer}"/>
                    <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding HorizontalOffset, ElementName=SubMenuScrollViewer}"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style x:Key="MainMenuConnectivitySubitemStyle" TargetType="{x:Type MenuItem}" >
            <Setter Property="Foreground" Value="{StaticResource MainMenuForeground1}" />
            <Setter Property="FontFamily" Value="/promodz;component/Fonts/#Myriad Pro" />
            <Setter Property="FontSize" Value="14" />
            
        </Style>
        <ControlTemplate x:Key="MainMenuConnectivitySubitemControlTemplate" TargetType="{x:Type MenuItem}">
            <Border x:Name="templateRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                <Grid >
                    <ContentPresenter x:Name="menuHeaderContainer" Margin="10,1,0,1" ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}"  ContentStringFormat="{TemplateBinding HeaderStringFormat}" ContentSource="Header" HorizontalAlignment="Left"  RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center"/>
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <!--
                <Trigger Property="Icon" Value="{x:Null}">
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                </Trigger>
                -->
                <Trigger Property="IsChecked" Value="True">
                    <!--
                    <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible"/>
                    <Setter Property="Visibility" TargetName="Icon" Value="Collapsed"/>
                    -->
                </Trigger>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter Property="Foreground" Value="{StaticResource  MainMenuColor3 }"/>
                    <!--
                    <Setter Property="Background" TargetName="templateRoot" Value="#3D26A0DA"/>
                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="#FF26A0DA"/>
                    -->
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <!--
                    <Setter Property="TextElement.Foreground" TargetName="templateRoot" Value="#FF707070"/>
                    <Setter Property="Fill" TargetName="Glyph" Value="#FF707070"/>
                    -->
                </Trigger>
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsHighlighted" Value="True"/>
                        <Condition Property="IsEnabled" Value="False"/>
                    </MultiTrigger.Conditions>
                    <!--
                    <Setter Property="Background" TargetName="templateRoot" Value="#0A000000"/>
                    <Setter Property="BorderBrush" TargetName="templateRoot" Value="#21000000"/>
                    -->
                </MultiTrigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>




    </Window.Resources>


    <Grid Background="#536A87" >

        <Grid.RowDefinitions>
            <RowDefinition Height="43"/>
            <RowDefinition Height="363*"/>
        </Grid.RowDefinitions>

        <Grid Background="{StaticResource TitleBarBackground}" x:Name="titleBarGrid"  MouseLeftButtonDown="titleBarGrid_MouseLeftButtonDown"  >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="127"/>
                <ColumnDefinition Width="159"/>

                <ColumnDefinition Width="29"/>
                <ColumnDefinition Width="43"/>
                <ColumnDefinition Width="43"/>
                <ColumnDefinition Width="43"/>
                <ColumnDefinition Width="58*"/>
                <ColumnDefinition Width="43"/>
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="textBlock" Foreground="White" Grid.Column="0"  TextWrapping="Wrap" Text="Promodz" FontFamily="Myriad Pro" FontWeight="Bold" FontSize="28" HorizontalAlignment="Right" VerticalAlignment="Center"    />
            <TextBlock x:Name="textBlock1" Grid.Column="1" Foreground="White"  TextWrapping="Wrap" Text="Thermal Suite" FontFamily="Myriad Pro Light" FontSize="28"  HorizontalAlignment="Right" VerticalAlignment="Center"  />
            <Button x:Name="closeWndButton" Content="Button" Grid.Column="7" Style="{DynamicResource CloseWndButtonStyle}" Click="closeWndButton_Click" />
            <Rectangle Grid.Column="6" Fill="White"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
            <Menu x:Name="addTileMenu" Grid.Column="5" HorizontalAlignment="Center" Height="43" VerticalAlignment="Center" Width="43" >
                <MenuItem Height="43" Width="43" Template="{DynamicResource AddTileMenuMainItemTemplate}">
                    <MenuItem  Header="Temperature" Template="{DynamicResource AddTileMenuItemTemplate}" Style="{StaticResource AddTileMenuItemStyle}">
                        <MenuItem Header="GPU_V01" >
                            <MenuItem.Icon>
                                <Rectangle  Width="128" Height="32">
                                    <Rectangle.Fill>
                                        <VisualBrush >
                                            <VisualBrush.Visual>
                                                <Widgets:LedRegulatorHorizontale/>
                                            </VisualBrush.Visual>
                                        </VisualBrush>
                                    </Rectangle.Fill>
                                </Rectangle>

                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="CPU+V02" >
                            <MenuItem.Icon>
                                <Rectangle  Width="64" Height="64">
                                    <Rectangle.Fill>
                                        <VisualBrush >
                                            <VisualBrush.Visual>
                                                <Widgets:FourFanControlsPanel/>
                                            </VisualBrush.Visual>
                                        </VisualBrush>
                                    </Rectangle.Fill>
                                </Rectangle>

                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="Radiator_intake" />
                        <MenuItem Header="PSU_TEMP" />
                    </MenuItem>
                    <MenuItem Header="Flow/Pump" Template="{DynamicResource AddTileMenuItemTemplate}" Style="{StaticResource AddTileMenuItemStyle}">
                        <MenuItem Header="GPU_V01" />
                        <MenuItem Header="CPU+V02" />
                        <MenuItem Header="Radiator_intake" />
                        <MenuItem Header="PSU_TEMP" />
                    </MenuItem>
                    <MenuItem Header="Fans"  Template="{DynamicResource AddTileMenuItemTemplate}" Style="{StaticResource AddTileMenuItemStyle}">
                        <MenuItem Header="GPU_V01" />
                        <MenuItem Header="CPU+V02" />
                        <MenuItem Header="Radiator_intake" />
                        <MenuItem Header="PSU_TEMP" />
                    </MenuItem>
                    <MenuItem Header="Sensors"  Template="{DynamicResource AddTileMenuItemTemplate}" Style="{StaticResource AddTileMenuItemStyle}">
                        <MenuItem Header="GPU_V01" />
                        <MenuItem Header="CPU+V02" />
                        <MenuItem Header="Radiator_intake" />
                        <MenuItem Header="PSU_TEMP" />
                    </MenuItem>
                    <MenuItem Header="Lighting"  Template="{DynamicResource AddTileMenuItemTemplate}" Style="{StaticResource AddTileMenuItemStyle}">
                        <MenuItem Header="GPU_V01" />
                        <MenuItem Header="CPU+V02" />
                        <MenuItem Header="Radiator_intake" />
                        <MenuItem Header="PSU_TEMP" />
                    </MenuItem>
                    <MenuItem Header="Liquid level"  Template="{DynamicResource AddTileMenuItemTemplate}" Style="{StaticResource AddTileMenuItemStyle}" >
                        <MenuItem Header="GPU_V01" />
                        <MenuItem Header="CPU+V02" />
                        <MenuItem Header="Radiator_intake" />
                        <MenuItem Header="PSU_TEMP" />
                    </MenuItem>

                </MenuItem>
            </Menu>
            <CheckBox x:Name="ScreenBlock" Grid.Column="4" Content="" Style="{DynamicResource CheckBoxScreenLockStyle}"/>
            <Menu x:Name="mainMenu"  Grid.Column="3"  HorizontalAlignment="Center" Height="43" VerticalAlignment="Center" Width="43">
                <MenuItem Height="43" Width="43" Template="{DynamicResource MainMenuMainItemControlTemplate}" >
                    <MenuItem Style="{StaticResource MainMenuItemStyle}" Template="{DynamicResource MainMenuDeviceControlMenuItemControlTemplate}">
                        <MenuItem></MenuItem>
                    </MenuItem>
                    <MenuItem Style="{StaticResource MainMenuItemStyle}" Template="{DynamicResource MainMenuColorPresetsMenuItemControlTemplate}">
                        <MenuItem></MenuItem>
                    </MenuItem>
                    <MenuItem Style="{StaticResource MainMenuItemStyle}" Template="{DynamicResource MainMenuUnitsMenuItemControlTemplate}">
                        <MenuItem></MenuItem>
                    </MenuItem>
                    <MenuItem Style="{StaticResource MainMenuItemStyle}" Template="{DynamicResource MainMenuConnectivityMenuItemControlTemplate}">
                        <MenuItem Header="ProModz Website" Style="{StaticResource MainMenuConnectivitySubitemStyle}" Template="{DynamicResource MainMenuConnectivitySubitemControlTemplate}"/>
                        <MenuItem Header="Software updates" Style="{StaticResource MainMenuConnectivitySubitemStyle}" Template="{DynamicResource MainMenuConnectivitySubitemControlTemplate}"/>
                        <MenuItem Header="Community page"  Style="{StaticResource MainMenuConnectivitySubitemStyle}" Template="{DynamicResource MainMenuConnectivitySubitemControlTemplate}"/>
                        <MenuItem Header="Your profile"  Style="{StaticResource MainMenuConnectivitySubitemStyle}" Template="{DynamicResource MainMenuConnectivitySubitemControlTemplate}"/> 
                    </MenuItem>
                    <MenuItem Style="{StaticResource MainMenuItemStyle}" Template="{DynamicResource MainMenuSensorsPanelMenuItemControlTemplate}">
                        <MenuItem></MenuItem>
                    </MenuItem>
                    <MenuItem Style="{StaticResource MainMenuItemStyle}" Template="{DynamicResource MainMenuTilingLayoutsMenuItemControlTemplate}">
                        <MenuItem></MenuItem>
                    </MenuItem>
                </MenuItem>
            </Menu>
        </Grid>

        <!--
        <TextBox x:Name="textBox" Margin="844,10,7,8" Grid.Row="1" TextWrapping="Wrap" Text="" VerticalScrollBarVisibility="Visible" />

        -->
        <WrapPanel Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
            <Widgets:SixNarrowFanControlsPanel/>
            <Widgets:SixThermometerViewsPanel/>
            <Widgets:FourFanControlsPanel/>
            <Widgets:LedRegulatorCircle/>
            <Widgets:LedRegulatorHorizontale />
            <Widgets:TwelveVerticalTemperatureViewsAndFanControlsPanel/>
            <Widgets:Lock/>
            <Widgets:FanSpeed/>

            <Widgets:PumpSpeed/>
            <Widgets:SmallProcessorTemperatureView/>
            <Widgets:SmallVCardTempetratureView/>
            <Widgets:SmallLiqLevelView/>
            <Widgets:ProcessorTemperatureView/>
            <Widgets:VCardTemperatureView/>




        </WrapPanel>












    </Grid>
</Window>
